function refreshForm(innerHTML) {
  const newAddressForm = document.querySelector('.address-form');
  newAddressForm.innerHTML = innerHTML;
}

function addAddress(addressHTML) {
  const addresses = document.getElementById('address-list');
  addresses.insertAdjacentHTML('beforeend', addressHTML);
}

function closeForm() {
 document.querySelector('.close').click();
}

function openForm() {
  document.getElementById('.btn-addresses').click();
}

closeForm();
<% if @address.errors.any? %>
  refreshForm('<%= j render "spot_searches/form", address: @address %>');
  openForm();
<% else %>
  addAddress('<%= j render "spot_searches/address", address: @address %>');
  refreshForm('<%= j render "spot_searches/form", address: Address.new %>');
<% end %>

